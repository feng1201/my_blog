# 实验记录
昨天完成了事件预测的相关实验。其中只使用真实数据的召回率仅为为30%，也就是说我在真实数据上使用grpo后召回率达到35%即可证明其有效性。
目前qwen3的思考模式分为开关两种，我可以都试一试。但是之前虽然是关闭了思考模式，但令模型给出reason时它会自动开启。我或许可以尝试削弱一些prompt中的思考暗示？
但是由于现在时间比较紧张，我打算先不进行grpo微调，仅仅使用二阶微调先将文章写出来。
## 今日todolist:
1.完成overleaf文章的撰写(实验表格和绘图留空)

1.使用gpt4o-mini为新的数据生成思维链

2.关闭思考模式进行sft微调并记录

目前文章已经有大致的框架了。先把思维链整完。

ok，目前思维链也整完了，将prompt调整如下(尽量少的改动

You are given weekly U.S. gasoline prices (OT):
- Context window (last 3 months, weekly OT):
<ts3m><ts3m/>
- Current month only (weekly dOT):
<tsdot><tsdot/>

Task: Hypothesize up to 5 plausible REAL-TIME events and reasons that occurred WITHIN THE CURRENT MONTH ONLY.
Give the event hypothesis after ⟪FINAL⟫.
Each event must be an AAOD key string: "NAME|ACTION|OBJECT|DIRECTION".
{ "hypotheses": [{"key": "NAME|ACTION|OBJECT|DIRECTION"}] }

Choose each slot from the allowed sets below (do not invent new tokens):
('NAME ∈ {market,eia, opec, opec_plus, eia, united_states}',
 'ACTION ∈ {cut, price_change, raise, report_release, production_raise, forecast_lower, forecast_raise, close}',
 'OBJECT ∈ {crude_oil, gasoline, price, production, natural_gas, inventory}',
 'DIRECTION ∈ {ambiguous, down, up}')

Do not fabricate. Do not include the same AAOD events in the output. Try to fully consider and design different NAMEs and ACTIONs.

可恶，为什么训练这么慢，严重怀疑🤨有哥们把能耗占满了。

再次修改prompt如下：
You are given monthly U.S. influenza metrics (OT):
- Context window (last 3 months, weekly OT):
<ts3m><ts3m/>
- Current month only (weekly dOT):
<tsdot><tsdot/>

Task:
1. Carefully analyze the time-series trends and reason step-by-step about plausible real-world causes.  
2. Write a short *reasoning paragraph* (3–6 sentences) summarizing your interpretation of the data trend and potential driving factors.  
   - This paragraph should sound like an analytical narrative (e.g., “The observed trend in the data indicates…”).  
   - It should include your reasoning path that connects the observed pattern to possible events.  
3. Then, hypothesize up to 5 **REAL-TIME events** that occurred WITHIN THE CURRENT MONTH ONLY.  
   - Each event must be represented as an AAOD key string and a concise textual reason (≤ 20 words).  

Output format:
- First, write your reasoning paragraph (this is your thinking narrative).
- After that, write the final structured results after ⟪FINAL⟫ in strict JSON format:

⟪FINAL⟫
{
  "hypotheses": [
    {
      "key": "NAME|ACTION|OBJECT|DIRECTION",
    }
  ]
}

Allowed token sets:
('NAME ∈ {centers_for_disease_control, united_states, food_and_drug_administration, national_institutes_of_health, influenza, world_health_organization}',
 'ACTION ∈  {report_release, issue_guidance, rate_change, recommend_vaccination, outbreak, rate_change, approve_authorize, detect, conduct_study}',
 'OBJECT ∈  {influenza, vaccination, h5n1, hospitalizations, h1n1, deaths, oseltamivir, cases}',
 'DIRECTION ∈ {ambiguous, down, up}')

Rules:
- Do NOT fabricate tokens outside these sets.
- Do NOT repeat identical AAOD keys.
- The reasoning paragraph should be fluent and analytic, not a list of events.
- Only the JSON after ⟪FINAL⟫ will be used for evaluation.

  已经将能源数据集上带有思维链的二阶训练和消融做完了。写文章！！！再补一个健康数据集！
